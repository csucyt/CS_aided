clear 
clc
N = 256;
m = 128;
K = 1:3:64;
iter = 500;
Phi = randn(m,N);
error_SP = zeros(1,length(K));
error_OMP = zeros(1,length(K));
for i = 1 : length(K)
    for j= 1 : iter
        x = zeros(N,1);
        temp = randperm(N);
        index = temp(1:K(i));
        x(index) = 1;
        y = Phi*x;
        x_SP = SP(K(i),Phi,y);
        x_OMP = omp(Phi,y,K(i
        correct_SP = sum(x-x_SP<1e-8);
        if correct_SP ~= N
            error_SP(i) = error_SP(i) + 1;
        end
    end
    error(i) = error(i)/iter;
end
plot(K,1-error,'*-')